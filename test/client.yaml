# QTRP 客户端配置

# 服务端地址
server_addr: "127.0.0.1:17000"

# 传输层: net | gnet | quic
# - net: 标准 TCP (默认)
# - gnet: 高性能事件驱动 TCP
# - quic: QUIC 协议 (UDP, 内置 TLS 1.3 加密+多路复用)
transport: "net"

# 加密方式: tls | chacha20 | none
# 注意: transport=quic 时此选项被忽略 (QUIC 自带加密)
crypto: "tls"

# 认证 Token
token: "my-secret-token-1"

# TLS 配置 (crypto=tls 时使用)
tls:
  ca_cert: ""           # CA 证书路径 (留空使用系统证书)
  skip_verify: true    # 是否跳过证书验证 (服务端使用自动生成证书时需设为 true)

# ChaCha20 配置 (crypto=chacha20 时使用)
chacha20:
  psk: "your-pre-shared-key-32bytes!!"

# QUIC 配置 (transport=quic 时使用)
quic:
  # 跳过证书验证 (服务端使用自签名证书时需要设为 true)
  skip_verify: true

# 多隧道复用配置 (可选, 实验性功能)
# 启用后会使用多条并行 TCP 连接进行数据传输,提高吞吐量和 CPU 利用率
# 注意: 必须与服务端配置保持一致,不能与 transport=quic 同时使用
mtmux:
  enabled: true      # 是否启用多隧道模式 (默认: false, 必须与服务端一致)
  tunnels: 8          # 并行连接数 (默认: 8, 范围: 1-32, 必须与服务端一致)
                      # 例如 server_addr="server.com:7000" 且 tunnels=8 时
                      # 客户端会连接到端口 7000-7007

# 代理配置
proxies:
  # 单端口示例
  - name: "test"
    type: "tcp"
    local_addr: "127.0.0.1"
    local_port: "16002"
    remote_port: "12366"